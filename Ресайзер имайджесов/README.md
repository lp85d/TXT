# OCR Linker

![OCR Linker Logo](https://img.stabilityai.com/assets/stable-diffusion-logo.png)

## Описание Проекта

**OCR Linker** — это Python-скрипт, использующий библиотеку OpenCV для предобработки изображений с целью улучшения распознавания текста (OCR), особенно в случаях, когда символы или цифры могут быть разделены небольшими промежутками. Проект направлен на "соединение" разобщенных частей текста на изображении, что делает их более целостными и, следовательно, более пригодными для последующего анализа с помощью OCR-движков.

Особенностью данного решения является способность адаптивно соединять близко расположенные контуры, а также масштабирование изображений для улучшения детализации перед обработкой.

## Возможности

- **Масштабирование изображения:** Автоматическое увеличение размера входного изображения в заданных процентах (ширина и высота) для лучшей детализации.
- **Предварительная обработка:** Применение размытия по Гауссу и бинаризации для изоляции текстовых элементов.
- **Морфологическое расширение (Dilate):** Использование операции расширения для утолщения и соединения близко расположенных элементов.
- **Группировка контуров:** Интеллектуальная группировка контуров, предположительно представляющих части одного символа или цифры.
- **Соединение промежутков:** Адаптивное рисование линий между ближайшими точками соседних контуров в группе, если расстояние между ними не превышает заданного порога (`max_gap`). Толщина соединительной линии зависит от расстояния между контурами.
- **Очистка от шума:** Удаление мелких связанных компонентов (объектов) после соединения, чтобы отфильтровать шум.
- **Инверсия результата:** Преобразование обработанного изображения в формат, обычно используемый для OCR (черный текст на белом фоне).

## Установка и Запуск

### Требования

- Python 3.x
- OpenCV (`cv2`)
- NumPy

### Установка зависимостей

```bash
pip install opencv-python numpy
```

### Настройка параметров

Откройте файл `main.py` (или как вы назовете свой основной скрипт) и измените следующие переменные в начале файла в соответствии с вашими потребностями:

- `input_path`: Путь к вашему входному изображению.
- `output_path`: Путь для сохранения обработанного изображения.
- `scale_percent_width`: Процент увеличения ширины изображения (например, 600 для 600%).
- `scale_percent_height`: Процент увеличения высоты изображения (например, 600 для 600%).
- `blur_kernel_size`: Размер ядра для размытия по Гауссу.
- `threshold_value`: Пороговое значение для бинаризации.
- `dilate_kernel_size`: Размер ядра для операции расширения.
- `dilate_iterations`: Количество итераций для операции расширения.
- `min_object_area`: Минимальная площадь объекта, который будет сохранен после очистки.
- `max_gap`: Максимальное расстояние между контурами для их соединения.
- `min_digit_separation`: Минимальное горизонтальное расстояние для разделения контуров на разные "цифры" или символы.
- `max_line_thickness`: Максимальная толщина линии, используемой для соединения контуров.
- `min_line_thickness`: Минимальная толщина линии, используемой для соединения контуров.

## Примеры изображений

**Оригинальное изображение:**

![Оригинальное изображение](https://github.com/user-attachments/assets/dccc821f-169d-4d5f-b5fa-630f9d311b28)

**Обработанное изображение:**

![Обработанное изображение](https://github.com/user-attachments/assets/c41863c0-218c-4999-84e9-0509099590a2)
